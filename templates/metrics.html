<!DOCTYPE html>
<html>
<head>
    <title>System Metrics</title>
    <style>
        .metrics-container {
            margin: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .metric-card {
            background: #f5f5f5;
            padding: 10px;
            margin: 10px 0;
            border-radius: 3px;
        }
        .category-metrics {
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <h1>System Performance Metrics</h1>
    <div class="metrics-container">
        <div class="metric-card">
            <h2>Overall Performance</h2>
            <p>Overall Accuracy: {{ "%.2f"|format(accuracy*100) }}%</p>
            <p>Correlation with Ratings: {{ "%.3f"|format(correlation) }}</p>
        </div>

        <div class="metric-card">
            <h2>Category-wise Performance</h2>
            <div class="category-metrics">
                <h3>Positive Reviews</h3>
                <p>Precision: {{ "%.2f"|format(metrics['positive']['precision']*100) }}%</p>
                <p>Recall: {{ "%.2f"|format(metrics['positive']['recall']*100) }}%</p>
                <p>F1-Score: {{ "%.2f"|format(metrics['positive']['f1-score']*100) }}%</p>
            </div>
            <div class="category-metrics">
                <h3>Negative Reviews</h3>
                <p>Precision: {{ "%.2f"|format(metrics['negative']['precision']*100) }}%</p>
                <p>Recall: {{ "%.2f"|format(metrics['negative']['recall']*100) }}%</p>
                <p>F1-Score: {{ "%.2f"|format(metrics['negative']['f1-score']*100) }}%</p>
            </div>
            <div class="category-metrics">
                <h3>Neutral Reviews</h3>
                <p>Precision: {{ "%.2f"|format(metrics['neutral']['precision']*100) }}%</p>
                <p>Recall: {{ "%.2f"|format(metrics['neutral']['recall']*100) }}%</p>
                <p>F1-Score: {{ "%.2f"|format(metrics['neutral']['f1-score']*100) }}%</p>
            </div>
        </div>

        <div class="metric-card">
            <h2>Model Statistics</h2>
            <p>Total Reviews Analyzed: {{ total_reviews }}</p>
            <p>Positive Reviews: {{ positive_count }} ({{ "%.1f"|format(positive_percent) }}%)</p>
            <p>Negative Reviews: {{ negative_count }} ({{ "%.1f"|format(negative_percent) }}%)</p>
            <p>Neutral Reviews: {{ neutral_count }} ({{ "%.1f"|format(neutral_percent) }}%)</p>
        </div>
    </div>
    <a href="/">Back to Home</a>
</body>
</html>